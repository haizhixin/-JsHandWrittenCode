<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
    //   Promise.resolve().then(()=>{
    //       console.log(1)
    //   }).catch(()=>{
    //       console.log(2)
    //   }).then(()=>{
    //       console.log(3)
    //   })

    //   Promise.resolve().then(() => {
    //         console.log(1)
    //         throw new Error("33")
    //     }).catch(() => {
    //         console.log(2)
    //     }).then(() => {
    //         console.log(3)
    //     })
   
    // Promise.resolve().then(() => {
    //         console.log(1)
    //         throw new Error("33")
    //     }).catch(() => {
    //         console.log(2)
    //     }).catch(() => {
    //         console.log(3)
    //     })
   
// (async function() {
//     console.log('start')
//     const a = await 100
//     console.log("a",typeof a)
//     const b = await Promise.resolve(200)
//     console.log("b",typeof b)
//     const c = await Promise.reject(300)
//     console.log("c",c)
//     console.log("end")
// })()
//ES6提供了新的数据结构Set
const s = new Set();
[2,3,4,5,2,2].forEach(x=>s.add(x));

for(let i of s) {
    console.log(i)
}
const set = new Set([1,2,3,4,4,5])
[...new Set(array)]
[...new Set('abbbcs')].join('')

Set.prototype.add()
Set.prototype.delete()
Set.prototype.has()
Set.prototype.clear()

s.has(1)
s.has(2)
s.has(3)
s.delete(2)
s.has(2)


const items = new Set([1,2,3,4,5]);
const array = Array.from(items);

//数组去重
function dedupe(array) {
    return Array.from(new Set(array))
}

dedupe([1,1,2,3])

Set.prototype.keys()// 返回键名的遍历器
Set.prototype.values()//返回键值的遍历器
Set.prototype.entries()//返回键值对的遍历器
Set.prototype.forEach()// 使用回调函数遍历每个成员

for(let item of set.entries()) {
    console.log(item)
}
let set = new set([1,4,9])
set.forEach((value,key)=>console.log(key+':'+value))
//forEach(function(){},this)

let set = new Set([1,2,3]);
set = new Set([...set].map(val=>val*2));

let set = new Set([1,2,3]);
set new Set(Array.from(set,val=>val*2))

const b = [3,4];

const ws = new WeakSet(b);
//WeakSet没有size属性,没有办法遍历它的成员
//WeakSet的一个用处是储存DOM节点 而不用担心这些节点从文档移除时,会引发内存泄漏








        


    </script>
</body>
</html>